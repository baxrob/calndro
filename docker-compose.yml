version: "3.9"

services:
  web:
    container_name: caldc
    image: caldi
    build:
      context: .
      # ? local/dj/ ? ./Dockerfile
      dockerfile: compose/local/Dockerfile
      args:
        PG_ENV_PATH: compose/local/pg/.env
    env_file:
      - config/.env # X: redundant - this will pre-super-cede dj-environ,
                    #    yet it's the same .env in settings.py
      - compose/local/pg/.env
    #environment:
    #  - ENV_PATH=config.env # X: redundant - this will supercede default
    #                        #    in settings.py which is the same .env
    ports:
      #- $host_port:8000 # X: ?
      - 8000:8000
      - 9876:5432
    tty: true
    stdin_open: true
    #logging:
